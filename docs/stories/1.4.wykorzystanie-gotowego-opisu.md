# <!-- Powered by BMAD™ Core -->

# Story 1.4: Wykorzystanie Gotowego Opisu

## Status

Approved

## Story

**As a** artysta,
**I want** w prosty sposób skopiować lub pobrać gotowy opis,
**so that** mogę go natychmiast użyć w swoich kanałach promocyjnych.

## Acceptance Criteria

1. Pod polem z wygenerowanym tekstem znajdują się dwa przyciski: "Kopiuj do schowka" i "Pobierz jako .txt".
2. Kliknięcie "Kopiuj do schowka" kopiuje całą zawartość pola tekstowego do schowka systemowego.
3. Po skopiowaniu, użytkownik widzi wizualne potwierdzenie (np. krótki komunikat "Skopiowano!").
4. Kliknięcie "Pobierz jako .txt" inicjuje pobranie pliku tekstowego o nazwie nazwa_artysty_opis.txt, zawierającego treść z pola tekstowego.
5. Kliknięcie "Reset" natychmiast czyści wszystkie dane w UI (pola formularza, wybrany plik, wygenerowany opis) oraz zapis w sessionStorage i przywraca aplikację do stanu początkowego (Krok 1).

## Tasks / Subtasks

- [ ] Implement `ActionButtons.tsx` component (AC: 1)
  - [ ] Add "Kopiuj do schowka" button.
  - [ ] Add "Pobierz jako .txt" button.
  - [ ] Add "Reset" button.
- [ ] Implement "Kopiuj do schowka" functionality (AC: 2, 3)
  - [ ] Create a utility function to copy text to the clipboard.
  - [ ] Show a confirmation message after copying.
- [ ] Implement "Pobierz jako .txt" functionality (AC: 4)
  - [ ] Create a utility function to download text as a file.
  - [ ] The filename should be `nazwa_artysty_opis.txt`.
- [ ] Implement "Reset" functionality (AC: 5)
  - [ ] Dispatch a `RESET` action on button click.
  - [ ] The reducer should handle the `RESET` action to clear state and `sessionStorage`.
- [ ] Integrate `ActionButtons.tsx` into `page.tsx`.
- [ ] Write unit tests for the new components and utility functions.

## Dev Notes

### Kontekst architektoniczny i komponenty

- **Previous Story Insights**:
  - `sessionStorage` is used for state persistence with keys `aa:v1:*`.
  - A state machine in `page.tsx` manages UI state.
  - The generated description is available in the `readyDescription` state.
- **Component Specifications**:
  - Create a new component `src/components/ActionButtons.tsx` to hold the "Kopiuj do schowka", "Pobierz jako .txt", and "Reset" buttons. [Source: docs/architecture/6-components.md]
  - The `ResetButton` component is mentioned in the architecture. [Source: docs/architecture/6-components.md#62-frontend-react-nextjs-app-router]
- **File Locations**:
  - New component in `src/components/ActionButtons.tsx`.
  - Logic for copy and download could be in a new file `src/lib/utils.ts`.
  - The main screen is `src/app/page.tsx`. [Source: docs/architecture/source-tree.md]
- **State Management**:
  - The "Reset" button should dispatch a `RESET` action to the reducer in `src/app/page.tsx`.
  - The `RESET` action should clear `sessionStorage` and reset the state to `idle`. [Source: docs/architecture/10-frontend-architecture.md#103-zarzdzanie-stanem]
- **Core Workflows**:
  - The Copy/Download/Reset workflow is described in `docs/architecture/8-core-workflows-mermaid-sequence.md#83-copydownloadreset-edit-loop`.

## Testing

- Jednostkowe: komponenty UI, obsługa stanów, zapis/odczyt danych z sessionStorage [Source: docs/architecture/10-frontend-architecture.md#108-testy-mvp]
- Integracyjne: cały przepływ generowania i edycji opisu [Source: docs/architecture/10-frontend-architecture.md#108-testy-mvp]
- Testy ułożone w katalogu `__tests__` obok testowanych komponentów [Source: docs/architecture/10-frontend-architecture.md#108-testy-mvp]

## Change Log

| Date       | Version | Description                 | Author             |
| ---------- | ------- | --------------------------- | ------------------ |
| 2025-08-28 | 1.0     | Initial draft for Story 1.4 | Bob (Scrum Master) |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
