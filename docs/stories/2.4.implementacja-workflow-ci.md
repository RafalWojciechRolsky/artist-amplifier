# <!-- Powered by BMADâ„¢ Core -->

# Story 2.4: Implementacja podstawowego workflow CI

## Status

Refined

## Story

**As a** developer,
**I want** a basic CI workflow that automatically checks the code quality,
**so that** we can ensure stability and prevent bugs before they are merged.

## Acceptance Criteria

1.  A basic CI workflow is implemented that runs linting, tests, and the build process on every pull request.
2.  The CI workflow passes successfully on a test pull request.

## Dev Notes

### Previous Story Insights

- **Asynchronous Flow**: Story 2.1 established an async flow (`/api/audio/analyze` -> `/api/audio/analyze/status`). This should be considered if adding an E2E smoke test to the CI in the future. [Source: Story 2.1 `Dev Agent Record`]

### File Locations

- **CI Workflow**: The CI workflow should be defined in `.github/workflows/ci.yml`. [Source: docs/architecture/14-deployment-architecture.md]

## Tasks / Subtasks

- [x] **Task 1: Create CI Workflow** (AC: 1)
  - [x] Create a new GitHub Actions workflow file at `.github/workflows/ci.yml`.
  - [x] Configure the workflow to trigger on pull requests to the main branch.
  - [x] Add steps to:
      - Check out the code.
      - Set up Node.js (v20 or newer).
      - Install dependencies (`npm install`).
      - Run linting (`npm run lint`).
      - Run tests (`npm run test`).
      - Run the build (`npm run build`).
- [ ] **Task 2: Verify CI Workflow** (AC: 2)
    - [ ] Create a test pull request to confirm that the CI workflow is triggered.
    - [ ] Manually verify that all steps in the workflow run and pass successfully.
    - [ ] Ensure the pull request is blocked if any step fails.

## Change Log

| Date       | Version | Description                                       | Author             |
| ---------- | ------- | ------------------------------------------------- | ------------------ |
| 2025-09-05 | 1.1     | Refined story to focus solely on CI workflow.     | Sarah (Product Owner) |
| 2025-09-01 | 1.0     | Initial draft for Story 2.4                       | Bob (Scrum Master) |
