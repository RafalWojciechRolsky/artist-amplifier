<!-- Powered by BMAD™ Core -->

# Risk Profile: Story 1.1 – Wprowadzanie Danych Artysty

- Data oceny: 2025-08-27
- Story: [docs/stories/1.1.wprowadzanie-danych-artysty.md](cci:7://file:///home/rolsky/Pulpit/artist-amplifier/docs/stories/1.1.wprowadzanie-danych-artysty.md:0:0-0:0)
- Zakres: Formularz z polami „Nazwa artysty/zespołu” (required) i „Opis artysty” (required, textarea 50–1000 znaków, licznik), walidacje, a11y, responsywność mobile, persistencja w `sessionStorage` (klucze `aa:v1:*`).
- Arch. odniesienia: `docs/architecture/10-frontend-architecture.md`, `docs/architecture/6-components.md`

## Podsumowanie ryzyka

- Poziom ogólny: Medium
- Uzasadnienie: Implementacja jest prosta funkcjonalnie, ale istotne ryzyka leżą w a11y, responsywności mobile oraz UX walidacji. Persistencja w `sessionStorage` podnosi wpływ ewentualnych błędów na utratę danych sesji.

## Macierz ryzyk (Probability × Impact)

| Obszar       | Ryzyko                                                | P   | I   | Ocena | Mitigacja                                                                                           |
| ------------ | ----------------------------------------------------- | --- | --- | ----- | --------------------------------------------------------------------------------------------------- |
| Walidacje    | Błędy walidacji pól (required, limity znaków)         | M   | M   | M     | Jednostkowe testy walidatorów i liczników, testy graniczne (49, 50, 1000, 1001), sanitizacja inputu |
| A11y         | Niepełna dostępność (label/aria, focus, klawiatura)   | H   | M   | H     | Lista kontrolna a11y, testy z axe, ręczne testy klawiaturą, poprawne role i stany                   |
| Mobile UI    | Layout nie mieści się na małych ekranach, przewijanie | M   | H   | H     | Mobile‑first, testy na popularnych breakpointach, wykorzystanie utili Tailwind                      |
| Persistencja | Błędy `sessionStorage` (brak dostępu, niespójność)    | L   | H   | M     | Try/catch, feature detection, fallback czyszczenia, testy odczytu po reload                         |
| UX walidacji | Niejasne komunikaty, opóźnione/przedwczesne błędy     | M   | H   | H     | Spójne komunikaty, wskazanie pola z błędem, aria-live dla błędów, timing walidacji                  |
| Integracja   | Przekazywanie stanu do `src/app/page.tsx`             | M   | M   | M     | Kontrakt propsów, testy integracyjne lekkie (React Testing Library)                                 |
| Lokalizacja  | Teksty błędów niespójne z językiem UI (PL)            | L   | M   | L     | Jedno źródło prawdy dla tekstów, przegląd copy                                                      |

Legenda: L=Low, M=Medium, H=High

## Scenariusze testowe kluczowe (wybór)

- Walidacje:
  - Puste pola → komunikaty po blur i przy submit.
  - `artistDescription` długość: 49/50/1000/1001 znaków, liczenie znaków w czasie pisania.
  - Znaki diakrytyczne i emoji w obu polach.
- Persistencja:
  - Wpisz dane → refresh → odczyt z `sessionStorage` (klucze `aa:v1:*`).
  - Brak dostępu do `sessionStorage` (tryb prywatny/ograniczenia) → brak crash, degradacja łagodna.
- A11y:
  - Nawigacja tab/shift+tab, fokus widoczny, aktywacja Enter/Space.
  - Etykiety powiązane z inputami, role, aria‑invalid, aria‑describedby.
  - Ogłoszenia błędów przez aria‑live (polski język komunikatów).
- Mobile:
  - Breakpointy ~320–480 px; brak poziomego scrolla; czytelny licznik.

## Wymagane artefakty jakości

- Testy jednostkowe: walidatory, licznik znaków, zapisy/odczyty `sessionStorage` (mock).
- Kontrola a11y: raport z `axe` + lista ręcznych sprawdzeń.
- Podglądy UI: zrzuty ekranu z małych ekranów.

## Zalecenia (mitigacje operacyjne)

1. Walidatory jako czyste funkcje + testy graniczne i nietypowe znaki.
2. Warstwa a11y: checklista + `axe` w CI; aria‑live dla błędów.
3. Persistencja defensywna: feature detection, try/catch, format kluczy `aa:v1:*` jako stała.
4. Mobile‑first: weryfikacja min‑width layoutu; util‑klasy Tailwind dla spacing/overflow.
5. Kontrakt integracyjny między `ArtistForm` a `page.tsx` (typy, props).

## Decyzja QA (advisory)

- Gate (advisory): PASS z uwagami
- Warunek: dostarczyć artefakty z sekcji „Wymagane artefakty jakości” przed zamknięciem story.

## Odniesienia

- Story: [docs/stories/1.1.wprowadzanie-danych-artysty.md](cci:7://file:///home/rolsky/Pulpit/artist-amplifier/docs/stories/1.1.wprowadzanie-danych-artysty.md:0:0-0:0)
- Architektura: `docs/architecture/10-frontend-architecture.md`, `docs/architecture/6-components.md`
